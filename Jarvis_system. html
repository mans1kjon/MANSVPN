<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>JARVIS Voice Control</title>
    <style>
        body { background: #000; color: #00e5ff; font-family: sans-serif; text-align: center; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        #arc { width: 150px; height: 150px; border: 4px solid #00e5ff; border-radius: 50%; box-shadow: 0 0 20px #00e5ff; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.5s; }
        .pulse { animation: pulse-animation 1.2s infinite; }
        @keyframes pulse-animation { 0% { transform: scale(1); box-shadow: 0 0 20px #00e5ff; } 50% { transform: scale(1.1); box-shadow: 0 0 40px #ff0055; } 100% { transform: scale(1); box-shadow: 0 0 20px #00e5ff; } }
    </style>
</head>
<body>

    <div id="arc" onclick="listen()">
        <div style="width: 50px; height: 50px; background: #00e5ff; border-radius: 50%;"></div>
    </div>
    <h2 id="msg">Нажми на реактор, Мистер Манс</h2>

    <script>
        const msg = document.getElementById('msg');
        const arc = document.getElementById('arc');

        // Функция синтеза речи (Джарвис отвечает)
        function speak(text) {
            const ut = new SpeechSynthesisUtterance(text);
            ut.lang = 'ru-RU';
            ut.pitch = 0.8; // Басовитый голос
            ut.rate = 0.9;
            window.speechSynthesis.speak(ut);
        }

        function listen() {
            const Recognition = window.SpeechRecognition || window.webkitSpeechRecognition;
            if (!Recognition) {
                alert("Ваш браузер не поддерживает голос. Используйте Chrome.");
                return;
            }

            const rec = new Recognition();
            rec.lang = 'ru-RU';

            rec.onstart = () => {
                arc.classList.add('pulse');
                msg.innerText = "Слушаю вас...";
            };

            rec.onresult = (event) => {
                const cmd = event.results[0][0].transcript.toLowerCase();
                msg.innerText = "Вы сказали: " + cmd;
                handle(cmd);
            };

            rec.onend = () => { arc.classList.remove('pulse'); };
            rec.start();
        }

        function handle(cmd) {
            if (cmd.includes("привет") || cmd.includes("джарвис")) {
                speak("Здравствуйте, Мистер Манс. Системы работают в штатном режиме.");
            } 
            else if (cmd.includes("открой")) {
                speak("Секунду, Мистер Манс. Открываю.");
                if (cmd.includes("ютуб")) window.location.href = "intent://www.youtube.com#Intent;scheme=https;end";
                else if (cmd.includes("инстаграм")) window.location.href = "intent://instagram.com#Intent;scheme=https;end";
                else if (cmd.includes("ватсап")) window.location.href = "intent://send#Intent;package=com.whatsapp;scheme=whatsapp;end";
                else if (cmd.includes("камеру")) window.location.href = "intent://#Intent;action=android.media.action.IMAGE_CAPTURE;end";
                else if (cmd.includes("карты")) window.location.href = "intent://#Intent;package=com.google.android.apps.maps;scheme=https;end";
            }
            else if (cmd.includes("найди")) {
                let q = cmd.replace("найди", "");
                speak("Ищу в сети: " + q);
                window.open("https://www.google.com/search?q=" + q);
            }
            else {
                speak("Простите, сэр, я не нашел такой команды в своей базе.");
            }
        }
    </script>
</body>
</html>
